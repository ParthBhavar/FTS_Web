@*@model IEnumerable<FTS.Model.Entities.MenuListModel>*@
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - COL</title>

    <link rel="stylesheet" href="~/Scripts/vendors/feather/feather.css" />
    <link rel="stylesheet" href="~/Scripts/vendors/ti-icons/css/themify-icons.css" />
    <link rel="stylesheet" href="~/Scripts/vendors/css/vendor.bundle.base.css" />
    <link rel="stylesheet" href="~/Scripts/vendors/select2/select2.min.css" />
    <link rel="stylesheet" href="~/Scripts/vendors/select2-bootstrap-theme/select2-bootstrap.min.css" />
    <link rel="stylesheet" href="~/Scripts/css/vertical-layout-light/style.css" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap-datepicker.min.css" />

     <link href="~/Scripts/css/all.css" rel="stylesheet">
      <link href="~/css/font-awesome.min.css" rel="stylesheet">
     <link href="~/Scripts/css/fontawesome.css" rel="stylesheet">
    <link href="~/Scripts/css/brands.css" rel="stylesheet">
    <link href="~/Scripts/css/solid.css" rel="stylesheet">
    <link href="~/Scripts/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="~/Scripts/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link href="~/Scripts/css/chosen.min.css" rel="stylesheet">
    <link href="~/css/SweetAlert/sweetalert2.css" rel="stylesheet">
     <link href="~/css/bs-stepper.css" rel="stylesheet">
   


@*    <link rel="stylesheet" href="~/Scripts/vendors/datatables.net-bs4/dataTables.bootstrap4.css" />
    <link rel="stylesheet" href="~/Scripts/js/select.dataTables.min.css" />*@
    @*    <script src="~/Scripts/vendors/datatables.net/jquery.dataTables.js"></script>
    <script src="~/Scripts/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
    <script src="~/Scripts/js/dataTables.select.min.js"></script>*@
@*    <script src="~/Scripts/js/datatables/datatables.min.js"></script>*@
@*    <link href="~/Scripts/css/datatables/datatables.min.css" rel="stylesheet">*@

     <link href="~/Scripts/css/kendo.common.min.css" rel="stylesheet">
    <link href="~/Scripts/css/kendo.d_efault.min.css" rel="stylesheet">
    <link href="~/Scripts/css/kendo.default.mobile.min.css" rel="stylesheet">
    <link href="~/Scripts/css/customscrollbar/jquery.mCustomScrollbar.css" rel="stylesheet">
  
    <script src="~/Scripts/vendors/js/vendor.bundle.base.js"></script>
    <script src="~/Scripts/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <script src="~/Scripts/vendors/select2/select2.min.js"></script>
    <script src="~/Scripts/js/off-canvas.js"></script>
    <script src="~/Scripts/js/hoverable-collapse.js"></script>
    <script src="~/Scripts/js/template.js"></script>
    <script src="~/Scripts/js/settings.js"></script>
    <script src="~/Scripts/js/todolist.js"></script>
    <script src="~/Scripts/vendors/js/file-upload.js"></script>
    <script src="~/Scripts/vendors/js/typeahead.js"></script>
    <script src="~/Scripts/vendors/js/select2.js"></script>
    <script src="~/Scripts/vendors/chart.js/Chart.min.js"></script>
     <script src="~/Scripts/js/sweetalert.min.js"></script>

    <script src="~/Scripts/js/chosen.jquery.min.js"></script>
    <script src="~/Scripts/js/dashboard.js"></script>
    <script src="~/Scripts/js/Chart.roundedBarCharts.js"></script>
    <script src="~/Scripts/vendors\Pagination\script.js"></script>
    <script src="~/Scripts/js/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/js/jszip.min.js"></script>
    <script src="~/Scripts/js/kendo.all.min.js"></script>
    <script src="~/Scripts/js/kendo.aspnetmvc.min.js"></script>
    <script src="~/Scripts/js/customscrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="~/js/bs-stepper.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap-datepicker.min.js"></script>

     <script src="~/Scripts/js/javascript_treeview.js"></script>
    @* <script src="~/Scripts/js/bootstrap3_3_7.min.js"></script>*@
@*    <script src="~/Scripts/js/jquery_1_12_4.min.js"></script>*@

<style>
    .disablecolor
    {
        background-color:#cdd7e1;
    }
</style>

</head>

<body>
    @*Title*@
    <div class="container-scroller">
        <div class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="text-center navbar-brand-wrapper d-flex" style="background-color:#F5F7FF">
                <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                    <span class="icon-menu"></span>
                </button>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end" style="background-color:#F5F7FF">
                <ul class="navbar-nav">
                    <li class="nav-item nav-search d-none d-lg-block">
                        <div class="input-group">
                            <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                                <span class="input-group-text" id="search">
                                    <i class="icon-search"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now" aria-label="search" aria-describedby="search">
                        </div>
                    </li>
                </ul>
                <div class="navbar-menu-wrapper d-flex align-items-center justify-content-center" style="background-color:#F5F7FF">
                    <h2 style="font-weight:bold;">Commissionerate of Labour</h2>
                </div>
                <div class="navbar-nav navbar-nav-right">  
                    <input type="text" , readonly="readonly", class="form-control dropdownstyle" id="test">  &nbsp; &nbsp; &nbsp;
                     <select class="form-control dropdownstyle" id="PositionDropdown" name="PositionDropdown" style="display:none"></select>  
                      
                    @Html.ActionLink("Logout", "Logout", "Home", new { area = "" }, new { @class = "btn btn-primary m-2", @style = "font-weight: bold;" })
                </div>
            </div>
        </div>

        <div class="container-fluid page-body-wrapper">
             
            @*  @Html.Partial("~/Views/EmployeeLogin/_MenuListing.cshtml")*@
          <div id="dynamicContentContainer"></div>
            @*Main Content*@
            <div class="main-panel">
                @RenderBody()
                <hr />
                <footer>
                    <center>
                        <p>Copyright &copy; @DateTime.Now.Year</p>
                    </center>
                </footer>
            </div>
        </div>

    </div>
    <style>
        .dropdownstyle{
            margin:auto;
        }
    </style>
    <script>   
    $.get('@Url.Action("_MenuListing", "EmployeeLogin")', function(content){
        
            $("#dynamicContentContainer").html(content);
        });

</script>

<script>

         var _UserMode = '@HttpContextAccessor.HttpContext.Session.GetInt32("_UserMode")';

if (_UserMode == 1) {
    $(document).ready(function() {
        $("#PositionDropdown").css("display", "block");
        PositionDropdownRecord();
    });

    var _PositionID = '@HttpContextAccessor.HttpContext.Session.GetInt32("_PositionID")';
    function PositionDropdownRecord() {
        var myData = {

        };
        $.ajax
            ({
                type: "POST",
                url: "/EmployeeLogin/_UserPositionListListing",
                dataType: "json",
                data: myData,
                success: function(data) {
                    
                    var s = '<option value="-1">Please Select a Position</option>';
                    for (var i = 0; i < data.data.length; i++) {
                        if (data.data[i].PositionID == _PositionID) {
                            s += '<option value="' + data.data[i].PositionID + '" selected="selected" ">' + data.data[i].PositionName + '</option>';
                        }
                        else {

                            s += '<option value="' + data.data[i].PositionID + '">' + data.data[i].PositionName + '</option>';
                        }
                    }
                    $("#PositionDropdown").html(s);
                },
                error: function() {

                    swal(data.data.ErrorMassage);
                }
            })

    }

}
    </script>

    <script>
   var _UserName = '@HttpContextAccessor.HttpContext.Session.GetString("_UserName")';
$('#test').val(_UserName);
</script>

    <script>
        

       $(".chosen-select").chosen({ placeholder: "Select a state"}); 

              $("input[type='checkbox']").on('change', function(){
       $(this).val(this.checked ? "true" : "false");
       })

       $("input[type='checkbox']").trigger("change");     
       $(".datepicker").kendoDatePicker();

       //$('.datepicker').datepicker({
       //     format: 'dd-mm-yyyy'
       //});



       //$(".datepicker").kendoDatePicker({ format: "dd-MM-yyyy"});
       
       $(".datetimepicker").kendoDateTimePicker({
                dateInput: true
            });

    </script>

    <script>

           var EmailID = '@HttpContextAccessor.HttpContext.Session.GetString("_EmailID")';
         
              //Distric Change Method
         //Distric Change Method
      $(function () {
        $("#PositionDropdown").change(function () {
               
                 var myData = {
                    EmailID:EmailID,
                    IsOnchange: 1,
                    PositionID:  $("#PositionDropdown").val(),
                };


                $.ajax({
                    type: "POST",
                    url: "/EmployeeLogin/PostionOnChange",
                    data: myData,
                    success: function (response) {
                        if (response.data.ErrorCode == 0) {
                            window.location.href = "/Dashboard/Index";
                        }
                        else {
                         swal(response.data.ErrorMassage);
                        }
                  },
                    failure: function (response) {
                        swal(response.responseText);
                    },
                    error: function (response) {
                        //respone will be returned here
                        $("#error").val(response.responseText);
                    }
                });
            });
        });

          </script>
    

    <script>
            function ReplaceSpecialChar(strXml) {
        if (strXml != undefined) {
            strXml = strXml.replace(/&/g, '@@and;')
            strXml = strXml.replace(/</g, '@@LT;')
            strXml = strXml.replace(/>/g, '@@GT;')
            strXml = strXml.replace(/"/g, '@@DQ;')
            strXml = strXml.replace(/'/g, '@@SQ;')
            strXml = strXml.replace(/\//g, '@@PL;')
        }
        return strXml;  
    }

        </script>

    <script>
    function DeleteConformation(string) {
       
        swal({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover your Recored!",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
    .then((willDelete) => {
        if (willDelete) {
            debugger;
            var result = string.split('(');
            var data = result[1].split(')');
            window[result[0]](data[0]);
         
           
            
        }
        else {
            swal("Your Recored is safe!");
        }
    });
    }

</script>
</body>
</html>

